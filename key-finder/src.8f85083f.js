parcelRequire=function(e){var r="function"==typeof parcelRequire&&parcelRequire,n="function"==typeof require&&require,i={};function u(e,u){if(e in i)return i[e];var t="function"==typeof parcelRequire&&parcelRequire;if(!u&&t)return t(e,!0);if(r)return r(e,!0);if(n&&"string"==typeof e)return n(e);var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}return u.register=function(e,r){i[e]=r},i=e(u),u.modules=i,u}(function (require) {const l=Symbol();const Ca=()=>{};let B,L;const aa=Object.getPrototypeOf({}),j=(e,t)=>{let $;return e===t||(null==e?e==t:"function"==typeof e.equiv?e.equiv(t):null==t?e==t:"function"==typeof t.equiv?t.equiv(e):"string"!=typeof e&&"string"!=typeof t&&(null!=($=Object.getPrototypeOf(e))&&$!==aa||null!=($=Object.getPrototypeOf(t))&&$!==aa?"function"!=typeof e&&void 0!==e.length&&"function"!=typeof t&&void 0!==t.length?Ba(e,t):e instanceof Set&&t instanceof Set?Ea(e,t):e instanceof Map&&t instanceof Map?Fa(e,t):e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():e instanceof RegExp&&t instanceof RegExp?e.toString()===t.toString():e!=e&&t!=t:P(e,t)))};const Ba=(e,t,$=j)=>{let o=e.length;if(o===t.length)for(;--o>=0&&$(e[o],t[o]););return o<0};const Ea=(e,t,$=j)=>e.size===t.size&&$([...e.keys()].sort(),[...t.keys()].sort());const Fa=(e,t,$=j)=>e.size===t.size&&$([...e].sort(),[...t].sort());const P=(e,t,$=j)=>{if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let o in e)if(!t.hasOwnProperty(o)||!$(e[o],t[o]))return!1;return!0};let yc=[],zc=[];const Oc=r=>B&&B.length>=r?B:B=new Int32Array(r),Pc=r=>L&&L.length>=r?L:L=new Int32Array(r),Da=(r,$,e,a,t)=>{const c=$.length,l=r.linear;if(r.distance=c,0!==t){for(let r=0,e=0;r<c;r++,e+=3)l[e]=a,l[e+1]=r,l[e+2]=$[r];if(3===t){const a=r[e];for(let r=0;r<c;r++)a[r]=$[r]}}return r},Vc=(r,$,e=3,a=j)=>{const t={distance:0,adds:{},dels:{},const:{},linear:[]};if(r===$||null==r&&null==$)return t;if(null==r||0===r.length)return Da(t,$,"adds",1,e);if(null==$||0===$.length)return Da(t,r,"dels",-1,e);const c=r.length>=$.length;let l,n,h,s;c?(l=$,n=r):(l=r,n=$),h=l.length,s=n.length;const d=h+1,o=s-h,i=o+d,z=h+s+3,J=Pc(z).fill(-1,0,z),f=Oc(z).fill(-1,0,z),v=yc,u=zc;v.length=0,u.length=0;const P=(r,$,e)=>{const t=r+d;let c,o;$>e?(c=J[t-1],o=$):(c=J[t+1],o=e);let i=o-r;for(;i<h&&o<s&&a(l[i],n[o]);)i++,o++;return J[t]=u.length/3,u.push(i,o,c),o};let g,p,_=-1;do{for(p=(g=-++_)+d;g<o;g++,p++)f[p]=P(g,f[p-1]+1,f[p+1]);for(p=(g=o+_)+d;g>o;g--,p--)f[p]=P(g,f[p-1]+1,f[p+1]);f[i]=P(o,f[i-1]+1,f[i+1])}while(f[i]!==s);if(t.distance=o+2*_,0!==e){for(_=3*J[i];_>=0;)v.push(_),_=3*u[_+2];3===e?Lc(v,u,t,l,n,c):Kc(v,u,t,l,n,c,1===e)}return t};const Lc=(r,$,e,a,t,c)=>{const l=e.linear,n=e.const;let h,s,d,o,i=r.length,z=0,J=0;for(c?(h=e.dels,s=e.adds,d=-1,o=1):(h=e.adds,s=e.dels,d=1,o=-1);--i>=0;){const e=r[i],c=$[e],f=$[e+1],v=f-c;for(;z<c||J<f;){const r=J-z;v>r?(l.push(d,J,h[J]=t[J]),J++):v<r?(l.push(o,z,s[z]=a[z]),z++):(l.push(0,z,n[z]=a[z]),z++,J++)}}},Kc=(r,$,e,a,t,c,l)=>{const n=e.linear,h=c?-1:1,s=c?1:-1;let d=r.length,o=0,i=0;for(;--d>=0;){const e=r[d],c=$[e],z=$[e+1],J=z-c;for(;o<c||i<z;){const r=i-o;J>r?(n.push(h,i,t[i]),i++):J<r?(n.push(s,o,a[o]),o++):(l&&n.push(0,o,a[o]),o++,i++)}}};const Hc=(t,e,$=3,i=j)=>t===e?{distance:0}:0===$?Gc(t,e,i):Cc(t,e,i);const Gc=(t,e,$)=>{t||(t={}),e||(e={});let i=0;for(let r in t){const f=e[r];(void 0===f||!$(t[r],f))&&i++}for(let r in e)!(r in t)&&i++;return{distance:i}},Cc=(t,e,$)=>{t||(t={}),e||(e={});let i=0;const r=[],f=[],s=[];for(let n in t){const r=e[n];void 0===r?(f.push(n),i++):$(t[n],r)||(s.push(n,r),i++)}for(let n in e)n in t||(r.push(n),i++);return{distance:i,adds:r,dels:f,edits:s}};const p=Array.isArray,Bc=Math.max,fa=Object.getPrototypeOf({}),ga=(()=>{const e=new Array(2048);for(let t=2,r=e.length;t<r;t++)e[t]=t-2;return e})(),Ac=e=>{if(e<=ga.length)return ga.slice(0,e);const t=new Array(e);for(;--e>=2;)t[e]=e-2;return t},ka=(e,t,r,$,i,o=0)=>{const n=i[1];if(n.__skip)return;if(!1===n.__diff)return q($),void t.replaceChild(e,r,o,i);const f=$[1];if(f&&f.__skip)return void t.replaceChild(e,r,o,i,!1);let s=n.__impl;if(s&&s!==t)return s.diffTree(e,s,r,$,i,o);const a=Vc($,i,1,m);if(0===a.distance)return;const h=a.linear,T=t.getChild(r,o);let l,p,v,K;if(0!==h[0]||$[1].key!==n.key)return q($),void t.replaceChild(e,r,o,i);if((K=$.__release)&&K!==i.__release&&q($),0!==h[3]&&(jc(t,T,$[1],i[1]),2===a.distance))return;const Q=h.length,d=$.length-1,u=ic(h),c=Ac(d+1);for(l=2,p=6;p<Q;l++,p+=3)(v=h[p])&&(-1===v?xc(e,t,T,$,i,h,p,u,c,d):rc(e,t,T,h,p,u,c,d));(K=i.__init)&&K!=$.__init&&K.apply(i,[T,...i.__args])};const xc=(e,t,r,$,i,o,n,f,s,a)=>{const h=o[n+2];if(p(h)){let T=h[1].key;if(void 0!==T&&void 0!==f[T][2]){const o=f[T];T=o[0],ka(e,t,r,$[T],i[o[2]],s[T])}else{const e=o[n+1];q(h),t.removeChild(r,s[e]),pc(s,a,e)}}else"string"==typeof h&&t.setContent(r,"")},rc=(e,t,r,$,i,o,n,f)=>{const s=$[i+2];if("string"==typeof s)t.setContent(r,s);else if(p(s)){const a=s[1].key;if(void 0===a||void 0===o[a][0]){const o=$[i+1];t.createTree(e,r,s,n[o]),nc(n,f,o)}}},pc=(e,t,r)=>{for(;t>r;t--)e[t]=Bc(e[t]-1,0)},nc=(e,t,r)=>{for(;t>=r;t--)e[t]++},jc=(e,t,r,$)=>{const i=Hc(r,$,3,j);e.removeAttribs(t,i.dels,r);let o,n,f,s=l;for(o=(f=i.edits).length;(o-=2)>=0;)0===(n=f[o]).indexOf("on")&&e.removeAttribs(t,[n],r),"value"!==n?e.setAttrib(t,n,f[o+1],$):s=f[o+1];for(o=(f=i.adds).length;--o>=0;)"value"!==(n=f[o])?e.setAttrib(t,n,$[n],$):s=$[n];s!==l&&e.setAttrib(t,"value",s,$)};const q=e=>{if(p(e)){let t;if((t=e[1])&&!1===t.__release)return;for(e.__release&&(e.__release.apply(e.__this,e.__args),delete e.__release),t=e.length;--t>=2;)q(e[t])}};const ic=e=>{let t,r,$;const i={};for(let o=e.length;(o-=3)>=0;)r=e[o+2],p(r)&&void 0!==(t=r[1].key)&&(!($=i[t])&&(i[t]=$=[,,]),$[e[o]+1]=e[o+1]);return i},m=(e,t)=>{let r;return e===t||(null==e?e==t:"function"==typeof e.equiv?e.equiv(t):null==t?e==t:"function"==typeof t.equiv?t.equiv(e):"string"!=typeof e&&"string"!=typeof t&&(null!=(r=Object.getPrototypeOf(e))&&r!==fa||null!=(r=Object.getPrototypeOf(t))&&r!==fa?"function"!=typeof e&&void 0!==e.length&&"function"!=typeof t&&void 0!==t.length?Ba(e,t,m):e instanceof Set&&t instanceof Set?Ea(e,t,m):e instanceof Map&&t instanceof Map?Fa(e,t,m):e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():e instanceof RegExp&&t instanceof RegExp?e.toString()===t.toString():e!=e&&t!=t:!(!1===e.__diff||!1===t.__diff)&&P(e,t,m)))};const hc=o=>"function"==typeof o;const v=(n,t)=>null!=n&&"function"==typeof n[t];const J=Array.isArray;const gc=t=>null!=t&&"function"!=typeof t&&void 0!==t.length;const dc=t=>"string"==typeof t;const ac=e=>null!=e&&"function"==typeof e[Symbol.iterator];const Oa=$=>$ instanceof Map;const Q=t=>null!=t&&"string"!=typeof t&&"function"==typeof t[Symbol.iterator];const R=Object.getPrototypeOf,Xb=$=>{let r;return null!=$&&"object"==typeof $&&(null===(r=R($))||null===R(r))};const Wb=t=>t instanceof Set;const Ub="http://www.w3.org/2000/svg";const Tb={"&":"&amp;","<":"&lt;",">":"&gt;","\"":"&quot;","'":"&apos;"};const Sb=/^([^\s\.#]+)(?:#([^\s\.#]+))?(?:\.([^\s#]+))?$/;const ed=new RegExp(`[${Object.keys(Tb).join("")}]`,"g");const Nb={button:1,option:1,text:1,textarea:1};const Z=e=>e.split(" ").reduce((e,t)=>(e[t]=!0,e),{}),Mb=Z("animate animateColor animateMotion animateTransform circle clipPath color-profile defs desc discard ellipse feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feDropShadow feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence filter font foreignObject g image line linearGradient marker mask metadata mpath path pattern polygon polyline radialGradient rect set stop style svg switch symbol text textPath title tref tspan use view");const fd=Z("area base br circle col command ellipse embed hr img input keygen line link meta param path polygon polyline rect source stop track use wbr ?xml");const Kb=t=>{let $,r="";for(let e in t)$=t[e],hc($)&&($=$(t)),null!=$&&(r+=`${e}:${$};`);return r};const Ib=(e,t)=>{if(null==e||!t||!t.length)return e;const r=Object.assign({},e);for(let n of t){const e=r[n];v(e,"deref")&&(r[n]=e.deref())}return r};const $=(r,o=r=>void 0!==r?": "+r:"")=>class extends Error{constructor(s){super(r(s)+o(s))}};const Gb=$(()=>"illegal argument(s)");const Bb=r=>{throw new Gb(r)};const Ab=$(()=>"illegal arity");const A=r=>{throw new Ab(r)};const i=J,ia=Q,ja=(e,t)=>t.__init&&t.__init.apply(t.__this,[e,...t.__args]),x=(e,t,r,s,$,n=!0)=>{if(i(s)){const o=s[0];if("function"==typeof o)return x(e,t,r,o.apply(null,[e.ctx,...s.slice(1)]),$);const a=s[1];if(a.__impl)return a.__impl.createTree(e,r,s,$,n);const i=t.createElement(r,o,a,$);if(s.length>2){const r=s.length;for(let $=2;$<r;$++)x(e,t,i,s[$],void 0,n)}return n&&ja(i,s),i}if(ia(s)){const o=[];for(let a of s)o.push(x(e,t,r,a,$,n));return o}return null==s?r:t.createTextElement(r,s)};const w=(e,t,r,s,$=0)=>{if(i(s)){const n=t.getChild(r,$);"function"==typeof s[0]&&w(e,t,r,s[0].apply(null,[e.ctx,...s.slice(1)]),$);const o=s[1];if(o.__impl)return o.__impl.hydrateTree(e,r,s,$);ja(n,s);for(let e in o)0===e.indexOf("on")&&t.setAttrib(n,e,o[e]);for(let r=s.length,$=2;$<r;$++)w(e,t,n,s[$],$-2)}else if(ia(s))for(let n of s)w(e,t,r,n,$),$++};const yb=(e,t,r,s)=>{const $=Mb[t]?document.createElementNS(Ub,t):document.createElement(t);return r&&ob($,r),oa(e,$,s)};const xb=(e,t,r)=>oa(e,document.createTextNode(t),r);const oa=(e,t,r)=>e?void 0===r?e.appendChild(t):e.insertBefore(t,e.children[r]):t;const sb=(e,t)=>e.children[t];const rb=(e,t,r,s,$,n=!0)=>(t.removeChild(r,s),t.createTree(e,r,$,s,n));const pb=(e,t)=>e.textContent=t;const ob=(e,t)=>{for(let r in t)ta(e,r,t[r],t);return e};const ta=(e,t,r,s)=>{if(t.startsWith("__"))return;const $=0===t.indexOf("on");if($||"function"!=typeof r||(r=r(s)),void 0!==r&&!1!==r)switch(t){case"style":lb(e,r);break;case"value":nb(e,r);break;case"accesskey":e.accessKey=r;break;case"contenteditable":e.contentEditable=r;break;case"tabindex":e.tabIndex=r;break;case"align":case"autocapitalize":case"checked":case"dir":case"draggable":case"hidden":case"id":case"lang":case"namespaceURI":case"scrollTop":case"scrollLeft":case"title":e[t]=r;break;default:$?ib(e,t.substr(2),r):e.setAttribute(t,!0===r?"":r);}else null!=e[t]?e[t]=null:e.removeAttribute(t);return e};const nb=(e,t)=>{let r;switch(e.type){case"text":case"textarea":case"password":case"search":case"number":case"email":case"url":case"tel":case"date":case"datetime-local":case"time":case"week":case"month":if(void 0!==(r=e.value)&&"string"==typeof t){const s=t.length-(r.length-(e.selectionStart||0));e.value=t,e.selectionStart=e.selectionEnd=s;break}default:e.value=t;}};const mb=(e,t,r)=>{for(let s=t.length;--s>=0;){const $=t[s];0===$.indexOf("on")?gb(e,$.substr(2),r[$]):e.hasAttribute($)?e.removeAttribute($):e[$]=null}};const lb=(e,t)=>(e.setAttribute("style",Kb(t)),e);const ib=(e,t,r)=>i(r)?e.addEventListener(t,...r):e.addEventListener(t,r);const gb=(e,t,r)=>i(r)?e.removeEventListener(t,...r):e.removeEventListener(t,r);const fb=(e,t)=>{const r=e.children[t];void 0!==r&&e.removeChild(r)};const u=J,eb=Q,db=Xb,cb=(e,r)=>{let $,i,t,n,a,o=e[0],l=db(e[1]);return"string"==typeof o&&($=Sb.exec(o))||Bb(`${o} is not a valid tag name`),o!==(i=$[1])||!l||r&&!e[1].key?(a=l?Object.assign({},e[1]):{},t=$[2],n=$[3],t&&(a.id=t),n&&(n=n.replace(/\./g," "),a.class?a.class+=" "+n:a.class=n),a.__skip&&e.length<3?[i,a]:[i,a,...e.slice(l?2:1)]):e};const bb=(e,r)=>d(r,e,e.ctx,[0],!1!==e.keys,!1!==e.span);const d=(e,r,$,i,t,n)=>{if(null!=e){if(u(e)){if(0===e.length)return;let a,o,l=e[1];if(l&&(o=l.__impl)&&(o=o.normalizeTree))return o(r,e);const s=e[0];if("function"==typeof s)return d(s.apply(null,[$,...e.slice(1)]),r,$,i,t,n);if("function"==typeof s.render){const o=[$,...e.slice(1)];return a=d(s.render.apply(s,o),r,$,i,t,n),u(a)&&(a.__this=s,a.__init=s.init,a.__release=s.release,a.__args=o),a}if(!1===(l=(a=cb(e,t))[1]).__normalize)return a;if(t&&void 0===l.key&&(l.key=i.join("-")),a.length>2){const e=a[0],o=[e,l];n=n&&!Nb[e];for(let l=2,s=2,x=0,c=a.length;l<c;l++){let e=a[l];if(null!=e){const a=u(e);if(a&&u(e[0])||!a&&eb(e))for(let l of e)void 0!==(l=d(l,r,$,i.concat(x),t,n))&&(o[s++]=l),x++;else void 0!==(e=d(e,r,$,i.concat(x),t,n))&&(o[s++]=e),x++}}return o}return a}return"function"==typeof e?d(e($),r,$,i,t,n):"function"==typeof e.toHiccup?d(e.toHiccup(r.ctx),r,$,i,t,n):"function"==typeof e.deref?d(e.deref(),r,$,i,t,n):n?["span",t?{key:i.join("-")}:{},e.toString()]:e.toString()}};const ab={createTree(e,t,r,$,i){return x(e,this,t,r,$,i)},hydrateTree(e,t,r,$){return w(e,this,t,r,$)},diffTree(e,t,r,$,i){ka(e,this,t,r,$,i)},normalizeTree:bb,getElementById:e=>document.getElementById(e),getChild:sb,createElement:yb,createTextElement:xb,replaceChild(e,t,r,$,i){rb(e,this,t,r,$,i)},removeChild:fb,setContent:pb,removeAttribs:mb,setAttrib:ta};const _a=(e,o)=>dc(e)?o.getElementById(e):e;const Za=(e,r={},t=ab)=>{const a=Object.assign({root:"app"},r);let $=[],n=!0;const o=_a(a.root,t),i=()=>{if(n){a.ctx=Ib(r.ctx,a.autoDerefKeys);const f=t.normalizeTree(a,e);null!=f&&(a.hydrate?(t.hydrateTree(a,o,f),a.hydrate=!1):t.diffTree(a,o,$,f),$=f),n&&requestAnimationFrame(i)}};return requestAnimationFrame(i),()=>n=!1};var Xa=function(){return Xa=Object.assign||function(t){for(var e,r=1,o=arguments.length;r<o;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},Xa.apply(this,arguments)};function Wa(t,e,r,o){var n,a=arguments.length,$=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)$=Reflect.decorate(t,e,r,o);else for(var i=t.length-1;i>=0;i--)(n=t[i])&&($=(a<3?n($):a>3?n(e,r,$):n(e,r))||$);return a>3&&$&&Object.defineProperty(e,r,$),$}function La(t){return this instanceof La?(this.v=t,this):new La(t)}const Ua=(e,o={})=>{const t=Reflect.ownKeys(e),r=Reflect.ownKeys(o),n=Symbol("isa");function p(o){for(let r of t){const t=Object.getOwnPropertyDescriptor(o.prototype,r);!t||t.configurable?Object.defineProperty(o.prototype,r,{value:e[r],writable:!0}):console.log(`not patching: ${o.name}.${r.toString()}`)}return Object.defineProperty(o.prototype,n,{value:!0}),o}for(let i of r)Object.defineProperty(p,i,{value:o[i],enumerable:o.propertyIsEnumerable(i)});return Object.defineProperty(p,Symbol.hasInstance,{value:e=>!!e[n]}),p};const Ra=Ua({addWatch(t,s){return this._watches=this._watches||{},!this._watches[t]&&(this._watches[t]=s,!0)},removeWatch(t){if(this._watches)return!!this._watches[t]&&(delete this._watches[t],!0)},notifyWatches(t,s){if(!this._watches)return;const e=this._watches;for(let i in e)e[i](i,t,s)}});const Pa=(r,o=r=>void 0!==r?": "+r:"")=>class extends Error{constructor(e){super(r(e)+o(e))}};const Yb=Pa(()=>"illegal state");const Qa=e=>{throw new Yb(e)};const Na=Array.isArray;const Sa=t=>"string"==typeof t;const Ta=r=>r&&(r instanceof Float32Array||r instanceof Float64Array||r instanceof Uint32Array||r instanceof Int32Array||r instanceof Uint8Array||r instanceof Int8Array||r instanceof Uint16Array||r instanceof Int16Array||r instanceof Uint8ClampedArray);const Ma=t=>Na(t)?t:Sa(t)?t.length>0?t.split("."):[]:null!=t?[t]:[];function Va(e){const t=Ma(e),[r,l,n,$]=t;switch(t.length){case 0:return e=>e;case 1:return e=>null!=e?e[r]:void 0;case 2:return e=>null!=e&&null!=(e=e[r])?e[l]:void 0;case 3:return e=>null!=e&&null!=(e=e[r])&&null!=(e=e[l])?e[n]:void 0;case 4:return e=>null!=e&&null!=(e=e[r])&&null!=(e=e[l])&&null!=(e=e[n])?e[$]:void 0;default:return e=>{const r=t.length-1;let l=e;for(let n=0;null!=l&&n<=r;n++)l=l[t[n]];return l};}}function Ka($){const e=Ma($),[t,r,o,p]=e;switch(e.length){case 0:return($,e)=>e;case 1:return($,e)=>($=b($),$[t]=e,$);case 2:return($,e)=>{let o;return($=b($))[t]=o=b($[t]),o[r]=e,$};case 3:return($,e)=>{let p,c;return($=b($))[t]=p=b($[t]),p[r]=c=b(p[r]),c[o]=e,$};case 4:return($,e)=>{let c,C,G;return($=b($))[t]=c=b($[t]),c[r]=C=b(c[r]),C[o]=G=b(C[o]),G[p]=e,$};default:let $;for(let t=e.length;--t>=0;)$=Ya(e[t],$);return $;}}const b=$=>Na($)||Ta($)?$.slice():Object.assign({},$);const Ya=($,e)=>(t,r)=>(t=b(t),t[$]=e?e(t[$],r):r,t);const Ia=(e,$,t,...r)=>$a(e,$,t,...r);function $a(e,$,t,...r){return Ka($)(e,t.apply(null,(r.unshift(Va($)(e)),r)))}const Ha=(e,$,t)=>Ka($)(e,t);let Ga=class{constructor(e,t){t&&!t(e)&&Qa("initial state value did not validate"),this._value=e,this.valid=t}get value(){return this._value}set value(e){this.reset(e)}deref(){return this._value}equiv(e){return this===e}reset(e){const t=this._value;return this.valid&&!this.valid(e)?t:(this._value=e,this.notifyWatches(t,e),e)}resetIn(e,t){return this.reset(Ha(this._value,e,t))}resetInUnsafe(e,t){return this.reset(Ha(this._value,e,t))}swap(e,...t){return this.reset(e.apply(null,[this._value,...t]))}swapIn(e,t,...r){return this.reset(Ia(this._value,e,t,...r))}swapInUnsafe(e,t,...r){return this.reset(Ia(this._value,e,t,...r))}addWatch(e,t){}removeWatch(e){}notifyWatches(e,t){}release(){return delete this._watches,delete this._value,!0}};Ga=Wa([Ra],Ga);function*K($,r){const e=n($)([Ca,Ca,($,r)=>r])[2];for(let t of r){let $=e(l,t);if(g($))return void(($=za($.deref()))!==l&&(yield $));$!==l&&(yield $)}}const n=r=>v(r,"xform")?r.xform():r;class ya{constructor(e){this.value=e}deref(){return this.value}}const g=e=>e instanceof ya;const za=e=>e instanceof ya?e.deref():e;function k($){return $?[...$]:wa(()=>[],($,r)=>($.push(r),$))}const hb=e=>2===e.length?[void 0,e[1]]:3===e.length?[e[1],e[2]]:A(e.length);function F(...e){const r=e[0],$=r[0],u=r[1],t=r[2],c=null==(e=hb(e))[0]?$():e[0],o=e[1];return za(u(v(o,"$reduce")?o.$reduce(t,c):gc(o)?jb(t,c,o):kb(t,c,o)))}const jb=(e,r,$)=>{for(let u=0,t=$.length;u<t;u++)if(r=e(r,$[u]),g(r)){r=r.deref();break}return r},kb=(e,r,$)=>{for(let u of $)if(r=e(r,u),g(r)){r=r.deref();break}return r},wa=(e,r)=>[e,e=>e,r];const va=($,r,e=K)=>{const t=r.length-1;return ac(r[t])?r.length>1?e($.apply(null,r.slice(0,t)),r[t]):e($(),r[0]):void 0};function c(...e){let r,$;switch(e.length){case 4:$=e[3],r=e[2];break;case 3:$=e[2];break;case 2:return a(r=>c(e[0],e[1],r));default:A(e.length);}return F(n(e[0])(e[1]),r,$)}function a(t,r){return r?K(a(t),r):r=>{const $=r[2];return ra(r,(r,e)=>$(r,t(e)))}}const ra=($,o)=>[$[0],$[1],o];const qb=e=>{const{1:r,2:$}=n(e)(k());let t=!1;return e=>{if(!t){let p=$([],e);return(t=g(p))&&(p=r(p.deref())),1===p.length?p[0]:p.length>0?p:void 0}}};function C($){return $?F(C(),$):wa(()=>new Set,($,e)=>$.add(e))}function pa(...e){let[r,$,t,o,u,c,p,n,s,a]=e;switch(e.length){case 0:A(0);case 1:return r;case 2:return(...e)=>r($(...e));case 3:return(...e)=>r($(t(...e)));case 4:return(...e)=>r($(t(o(...e))));case 5:return(...e)=>r($(t(o(u(...e)))));case 6:return(...e)=>r($(t(o(u(c(...e))))));case 7:return(...e)=>r($(t(o(u(c(p(...e)))))));case 8:return(...e)=>r($(t(o(u(c(p(n(...e))))))));case 9:return(...e)=>r($(t(o(u(c(p(n(s(...e)))))))));case 10:default:const G=(...e)=>r($(t(o(u(c(p(n(s(a(...e))))))))));return 10===e.length?G:pa(G,...e.slice(10));}}function tb(...e){const[r,t,n,u,s,a,c,$]=e;switch(e.length){case 1:return e=>[r(e)];case 2:return e=>[r(e),t(e)];case 3:return e=>[r(e),t(e),n(e)];case 4:return e=>[r(e),t(e),n(e),u(e)];case 5:return e=>[r(e),t(e),n(e),u(e),s(e)];case 6:return e=>[r(e),t(e),n(e),u(e),s(e),a(e)];case 7:return e=>[r(e),t(e),n(e),u(e),s(e),a(e),c(e)];case 8:return e=>[r(e),t(e),n(e),u(e),s(e),a(e),c(e),$(e)];default:return r=>{let t=new Array(e.length);for(let n=e.length;--n>=0;)t[n]=e[n](r);return t};}}function ub(e,t,r){return new vb(e,t,r)}class vb{constructor(e,t,r){void 0===e?(e=0,t=1/0):void 0===t&&(t=e,e=0),r=void 0===r?e<t?1:-1:r,this.from=e,this.to=t,this.step=r}*[Symbol.iterator](){const e=this.step,t=this.to;let r=this.from;if(e>0)for(;r<t;)yield r,r+=e;else if(e<0)for(;r>t;)yield r,r+=e}$reduce(e,t){const r=this.step;if(r>0)for(let o=this.from,$=this.to;o<$&&!g(t);o+=r)t=e(t,o);else for(let o=this.from,$=this.to;o>$&&!g(t);o+=r)t=e(t,o);return t}}function*wb(...o){const t=o.map(o=>o[Symbol.iterator]());for(;;){const o=[];for(let e of t){let t=e.next();if(t.done)return;o.push(t.value)}yield o}}function na(r,$){return $?K(na(r),$):$=>{const e=$[2];return ra($,($,t)=>r(t)?e($,t):$)}}function ma(...e){return e=e.map(n),pa.apply(null,e)}function zb(...$){return a(tb.apply(null,$.map(qb)))}function E(...$){const e=va(E,$);if(e)return e;const[r,p]=$,t=Object.keys(r);return ma(zb.apply(null,t.map($=>r[$])),ea(t,p))}function ea(...r){const $=r.length>2&&va(ea,r);if($)return $;let e=r[0];if(J(e)&&(e=e.reduce((r,$,e)=>(r[$]=e,r),{})),r[1]){const $=Object.keys(e);return a(t=>c(ma(a(r=>[r,t[e[r]]]),na(r=>void 0!==r[1])),r[1],$))}return a(Cb(e))}const Cb=e=>{const r=Object.keys(e),[t,n,o]=r,[s,c,$]=r.map(r=>e[r]);switch(r.length){case 3:return e=>{const r={};let a;return void 0!==(a=e[$])&&(r[o]=a),void 0!==(a=e[c])&&(r[n]=a),void 0!==(a=e[s])&&(r[t]=a),r};case 2:return e=>{const r={};let o;return void 0!==(o=e[c])&&(r[n]=o),void 0!==(o=e[s])&&(r[t]=o),r};case 1:return e=>{const r={};let n=e[s];return void 0!==n&&(r[t]=n),r};default:return t=>{let n,o;const s={};for(let c=r.length-1;c>=0;c--)n=r[c],void 0!==(o=t[e[n]])&&(s[n]=o);return s};}};function*Db(e,o=1/0){for(;o-->0;)yield e}function Eb($,e){if(Oa($))for(let t of e)$.set(t[0],t[1]);else for(let t of e)$.add(t);return $}const Fb=(e,$)=>v(e,"empty")?e.empty():new(e[Symbol.species]||$);const da=e=>Wb(e)?e:new Set(e);const Hb=(e,$,r)=>r?F(e(),r):[()=>null,e=>e||new Set,(e,r)=>e?$(e,da(r)):da(r)];const z=(e,t,r)=>{if(r=r||Fb(e,Set),e===t)return Eb(r,e);if(t.size<e.size)return z(t,e,r);for(let $ of t)e.has($)&&r.add($);return r};function Jb(e){return Hb(Jb,z,e)}function r($){return"object"==typeof $&&"string"==typeof $.name}function t($){return"object"==typeof $&&"number"==typeof $.step&&"number"==typeof $.alt}const _=[0,2,4,-1,1,3,5],Y=_.map($=>Math.floor(7*$/12));function X($){const{step:t,alt:e,oct:r,dir:o=1}=$,p=_[t]+7*e;return void 0===r?[o*p]:[o*p,o*(r-Y[t]-4*e)]}const Pb=[3,0,4,1,5,2,6];function Qb($){const[t,e,r]=$,o=Pb[Rb(t)],p=Math.floor((t+1)/7);return void 0===e?{step:o,alt:p,dir:r}:{step:o,alt:p,oct:e+4*p+Y[o],dir:r}}function Rb($){const t=($+1)%7;return t<0?7+t:t}const W={empty:!0,name:"",pc:"",acc:""},V={},U=($,t)=>Array(t+1).join($),Vb=$=>"CDEFGAB".charAt($),M=$=>$<0?U("b",-$):U("#",$),S=$=>"b"===$[0]?-$.length:$.length;function f($){return"string"==typeof $?V[$]||(V[$]=bc($)):t($)?f(cc($)):r($)?f($.name):W}const Zb=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function $b($){const t=Zb.exec($);return[t[1].toUpperCase(),t[2].replace(/x/g,"##"),t[3],t[4]]}function _b($){return f(Qb($))}const O=[0,2,4,5,7,9,11];function bc($){const t=$b($);if(""===t[0]||""!==t[3])return W;const e=t[0],r=t[1],o=t[2],p=(e.charCodeAt(0)+3)%7,u=S(r),a=o.length?+o:void 0,n=X({step:p,alt:u,oct:a}),c=e+r+o,z=e+r,V=(O[p]+u+120)%12,s=void 0===a?-100:a,i=O[p]+u+12*(s+1),l=i>=0&&i<=127?i:null;return{empty:!1,acc:r,alt:u,chroma:V,coord:n,freq:void 0===a?null:440*Math.pow(2,(i-69)/12),height:i,letter:e,midi:l,name:c,oct:a,pc:z,step:p}}function cc($){const{step:t,alt:e,oct:r}=$,o=Vb(t);if(!o)return"";const p=o+M(e);return r||0===r?p+r:p}const H={empty:!0,name:"",acc:""},ec=new RegExp("^([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})|(AA|A|P|M|m|d|dd)([-+]?\\d+)$");function fc($){const t=ec.exec(`${$}`);return null===t?["",""]:t[1]?[t[1],t[2]]:[t[4],t[3]]}const Ja={};function s($){return"string"==typeof $?Ja[$]||(Ja[$]=kc($)):t($)?s(mc($)):r($)?s($.name):H}const Aa=[0,2,4,5,7,9,11],xa="PMMPPMM";function kc($){const t=fc($);if(""===t[0])return H;const e=+t[0],r=t[1],o=(Math.abs(e)-1)%7,p=xa[o];if("M"===p&&"P"===r)return H;const u="M"===p?"majorable":"perfectable",a=""+e+r,n=e<0?-1:1,c=8===e||-8===e?e:n*(o+1),z=lc(u,r),V=Math.floor((Math.abs(e)-1)/7);return{empty:!1,name:a,num:e,q:r,step:o,alt:z,dir:n,type:u,simple:c,semitones:n*(Aa[o]+z+12*V),chroma:(n*(Aa[o]+z)%12+12)%12,coord:X({step:o,alt:z,oct:V,dir:n}),oct:V}}function lc($,t){return"M"===t&&"majorable"===$||"P"===t&&"perfectable"===$?0:"m"===t&&"majorable"===$?-1:/^A+$/.test(t)?t.length:/^d+$/.test(t)?-1*("perfectable"===$?t.length:t.length+1):0}function mc($){const{step:t,alt:e,oct:r=0,dir:o}=$;return o?(o<0?"-":"")+(t+1+7*r)+oc("M"===xa[t]?"majorable":"perfectable",e):""}const ua=($,t)=>Array(Math.abs(t)+1).join($);function oc($,t){return 0===t?"majorable"===$?"M":"P":-1===t&&"majorable"===$?"m":t>0?ua("A",t):ua("d","perfectable"===$?t:t+1)}function sa($,t){const e=f($),r=s(t);if(e.empty||r.empty)return"";const o=e.coord,p=r.coord;return _b(1===o.length?[o[0]+p[0]]:[o[0]+p[0],o[1]+p[1]]).name}function qc($){return+$>=0&&+$<=127}function qa($){if(qc($))return+$;const o=f($);return o.empty?null:o.midi}const dd=Math.log(2),cd=Math.log(440);const uc="C C# D D# E F F# G G# A A# B".split(" "),vc="C Db D Eb E F Gb G Ab A Bb B".split(" ");function wc($,o={}){$=Math.round($);const r=(!0===o.sharps?uc:vc)[$%12];return o.pitchClass?r:r+(Math.floor($/12)-1)}const la=$=>o=>{const r=f(o);if(r.empty)return"";const t=$?r.alt>0:r.alt<0,v=null===r.midi;return wc(r.midi||r.chroma,{sharps:t,pitchClass:v})},Yc=la(!0),ad=la(!1);const ha={empty:!0,name:"",chordType:""},ca={};function y($){return"string"==typeof $?ca[$]||(ca[$]=Jc($)):"number"==typeof $?y(D[$]||""):t($)?Dc($):r($)?y($.name):ha}function Dc($){return y(M($.alt)+D[$.step])}const Ec=/^(#{1,}|b{1,}|x{1,}|)(IV|I{1,3}|VI{0,2}|iv|i{1,3}|vi{0,2})([^IViv]*)$/;function Fc($){return Ec.exec($)||["","","",""]}const T="I II III IV V VI VII",D=T.split(" "),_c=T.toLowerCase().split(" ");function Jc($){const[r,e,a,t]=Fc($);if(!a)return ha;const o=a.toUpperCase(),R=D.indexOf(o),n=S(e);return{empty:!1,name:r,roman:a,interval:s({step:R,alt:n,dir:1}).name,acc:e,chordType:t,alt:n,step:R,major:a===o,oct:0,dir:1}}const N=t=>(i,a="")=>i.map((i,r)=>"-"!==i?t[r]+a+i:"");function e(t,i,a,r){return o=>{const $=t.split(" "),e=$.map(t=>y(t).interval||""),n=e.map(t=>sa(o,t)),m=N(n);return{tonic:o,grades:$,intervals:e,scale:n,chords:m(i.split(" ")),chordsHarmonicFunction:a.split(" "),chordScales:m(r.split(",")," ")}}}const Mc=(t,i)=>{const a=f(t),r=f(i);return a.empty||r.empty?0:r.coord[0]-a.coord[0]},Nc=e("I II III IV V VI VII","maj7 m7 m7 maj7 7 m7 m7b5","T SD T SD D T D","major,dorian,phrygian,lydian,mixolydian,minor,locrian"),$c=e("I II bIII IV V bVI bVII","m7 m7b5 maj7 m7 m7 maj7 7","T SD T SD D SD SD","minor,locrian,major,dorian,phrygian,lydian,mixolydian"),bd=e("I II bIII IV V bVI VII","mmaj7 m7b5 +maj7 m7 7 maj7 mo7","T SD T SD D SD D","harmonic minor,locrian 6,major augmented,lydian diminished,phrygian dominant,lydian #9,ultralocrian"),Zc=e("I II bIII IV V VI VII","m6 m7 +maj7 7 7 m7b5 m7b5","T SD T SD D - -","melodic minor,dorian b2,lydian augmented,lydian dominant,mixolydian b6,locrian #2,altered");function Rc(t){const i=Nc(t),a=Mc("C",t),r=N(i.scale);return{...i,type:"major",minorRelative:sa(t,"-3m"),alteration:a,keySignature:M(a),secondaryDominants:r("- VI7 VII7 I7 II7 III7 -".split(" ")),secondaryDominantsMinorRelative:r("- IIIm7b5 IV#m7 Vm7 VIm7 VIIm7b5 -".split(" ")),substituteDominants:r("- bIII7 IV7 bV7 bVI7 bVII7 -".split(" ")),substituteDominantsMinorRelative:r("- IIIm7 Im7 IIbm7 VIm7 IVm7 -".split(" "))}}const Sc=t=>{const e=Object.assign({element:"h1",attribs:{},subElement:"small",subAttribs:{}},t);return(t,s,r)=>[e.element,e.attribs,s,r?[e.subElement,e.subAttribs,r]:void 0]};const Tc={anim:100,pad:1,margin:0,hlOn:{fill:"#002FA7"},bgOn:{fill:"#CCCCCC"},bgOff:{fill:"#CCCCCC"},fgOn:{fill:"#E83015"},fgOff:{fill:"#fff"},floor:1},Uc=["filter",{id:"blur"},["feGaussianBlur",{in:"SourceGraphic",stdDeviation:".25"}]],o=(t={})=>{const s=Object.assign(Object.assign({r:5},Tc),t),{r:e,pad:i,margin:n,glyph:a,floor:c}=s,g=e*Math.pow(.5,2),l=e+i,r=l+n,$=2*l+2*n,O={width:$,height:$*c},o={transition:`all ${s.anim}ms ease-out`},b={cx:r,cy:r},f=Object.assign(Object.assign(Object.assign({},s.hlOn),b),{r:l}),j=Object.assign(Object.assign(Object.assign({},s.bgOn),b),{style:o,r:e}),T=Object.assign(Object.assign({},j),s.bgOff),h=Object.assign(Object.assign(Object.assign({},s.fgOn),b),{style:o,r:g}),p=Object.assign(Object.assign({},h),s.fgOff),G=Object.assign(Object.assign({},s.fgOn),{x:"50%",y:"50%","text-anchor":"middle","alignment-baseline":"central",font:"bold sans-serif","font-size":.5*$,style:o}),Y=Object.assign(Object.assign({},G),s.fgOff);return(t,s,e,i)=>["svg",Object.assign(Object.assign({},O),s),Uc,["g",["circle",i?f:{}],["circle",e?j:T],a?["text",e?G:Y,a]:["circle",e?h:p]]]};const Wc=Sc({element:"h2",attribs:{class:"blue"}});const Xc=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],Qc=c(a($=>Rc($)),k(),Xc);let G=c(E({raw:a($=>$),tonicMidi:a($=>qa($.tonic+"2")%12),musicKey:a($=>`${$.tonic} ${$.type.slice(0,3)}`),normalizedMidis:a($=>c(a($=>qa($+"2")%12),C(),$.scale))}),k(),Qc);console.log(G);const h=new Ga({keyState:[...Db(!1,12)],highlights:new Set,size:[window.innerWidth,window.innerHeight]}),Ic=$=>h.resetIn(["keyState",$],!h.deref().keyState[$]),ba=$=>{h.resetIn(["highlights"],$)};window.addEventListener("resize",()=>{h.resetIn(["size"],[window.innerWidth,window.innerHeight])});const I={anim:0,r:16,pad:2},tc=Object.assign(Object.assign({},I),{glyph:"C"}),sc=Object.assign(Object.assign({},I),{bgOn:{fill:"#000"},bgOff:{fill:"#000"},floor:2}),Ob=$=>{const i=h.deref();return()=>["div.mb5",...i.keyState.map((B,t)=>[4===t?"div.dib.mr4":"div.dib",[0===t?o(Object.assign(Object.assign({},tc),$)):new Set([2,4,5,7,9,11]).has(t)?o(Object.assign(Object.assign({},I),$)):o(Object.assign(Object.assign({},sc),$)),{class:"pointer mr0",onclick:()=>Ic(t)},B,i.highlights.has(t)]])]},Lb=$=>()=>["div",...$.map(($,i)=>["div.mv2.mr2",["div.dib",["svg",{width:220,height:10},$.common.size?["rect",{width:200*$.similarity,height:10,rx:5,fill:"grey"}]:[]]],["span",{onmouseover:()=>ba($.normalizedMidis),onmouseout:()=>void ba(new Set)},$.musicKey]])],gd=Za(()=>{const $=h.deref(),i=$.keyState,B=.9*$.size[0]/13;let t=c(a($=>i[$]?$:null),C(),ub(12)),r=c(a($=>z($.normalizedMidis,t)),k(),G),e=c(E({musicKey:a($=>$[0].musicKey),normalizedMidis:a($=>$[0].normalizedMidis),common:a($=>$[1]),similarity:a($=>$[1].size/t.size+(t.has($[0].tonicMidi)?.1:0))}),k(),wb(G,r));return e=e.sort(($,i)=>i.similarity-$.similarity),["div",[Wc,"KEY FINDER"],["div",Ob({r:B/2*(8/9),pad:B/2*(1/9)}),Lb(e)]]});return{"B6dB":{}};});