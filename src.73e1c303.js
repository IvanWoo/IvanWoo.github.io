parcelRequire=function(e){var r="function"==typeof parcelRequire&&parcelRequire,n="function"==typeof require&&require,i={};function u(e,u){if(e in i)return i[e];var t="function"==typeof parcelRequire&&parcelRequire;if(!u&&t)return t(e,!0);if(r)return r(e,!0);if(n&&"string"==typeof e)return n(e);var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}return u.register=function(e,r){i[e]=r},i=e(u),u.modules=i,u}(function (require) {const h=Symbol();const ua=()=>{};let B,C;const ba=Object.getPrototypeOf({}),j=(e,t)=>{let $;return e===t||(null==e?e==t:"function"==typeof e.equiv?e.equiv(t):null==t?e==t:"function"==typeof t.equiv?t.equiv(e):"string"!=typeof e&&"string"!=typeof t&&(null!=($=Object.getPrototypeOf(e))&&$!==ba||null!=($=Object.getPrototypeOf(t))&&$!==ba?"function"!=typeof e&&void 0!==e.length&&"function"!=typeof t&&void 0!==t.length?Ca(e,t):e instanceof Set&&t instanceof Set?L(e,t):e instanceof Map&&t instanceof Map?O(e,t):e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():e instanceof RegExp&&t instanceof RegExp?e.toString()===t.toString():e!=e&&t!=t:U(e,t)))};const Ca=(e,t,$=j)=>{let o=e.length;if(o===t.length)for(;--o>=0&&$(e[o],t[o]););return o<0};const L=(e,t,$=j)=>e.size===t.size&&$([...e.keys()].sort(),[...t.keys()].sort());const O=(e,t,$=j)=>e.size===t.size&&$([...e].sort(),[...t].sort());const U=(e,t,$=j)=>{if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let o in e)if(!t.hasOwnProperty(o)||!$(e[o],t[o]))return!1;return!0};let mc=[],oc=[];const zc=r=>B&&B.length>=r?B:B=new Int32Array(r),xc=r=>C&&C.length>=r?C:C=new Int32Array(r),K=(r,$,e,a,t)=>{const c=$.length,l=r.linear;if(r.distance=c,0!==t){for(let r=0,e=0;r<c;r++,e+=3)l[e]=a,l[e+1]=r,l[e+2]=$[r];if(3===t){const a=r[e];for(let r=0;r<c;r++)a[r]=$[r]}}return r},uc=(r,$,e=3,a=j)=>{const t={distance:0,adds:{},dels:{},const:{},linear:[]};if(r===$||null==r&&null==$)return t;if(null==r||0===r.length)return K(t,$,"adds",1,e);if(null==$||0===$.length)return K(t,r,"dels",-1,e);const c=r.length>=$.length;let l,n,h,s;c?(l=$,n=r):(l=r,n=$),h=l.length,s=n.length;const d=h+1,o=s-h,i=o+d,z=h+s+3,J=xc(z).fill(-1,0,z),f=zc(z).fill(-1,0,z),v=mc,u=oc;v.length=0,u.length=0;const P=(r,$,e)=>{const t=r+d;let c,o;$>e?(c=J[t-1],o=$):(c=J[t+1],o=e);let i=o-r;for(;i<h&&o<s&&a(l[i],n[o]);)i++,o++;return J[t]=u.length/3,u.push(i,o,c),o};let g,p,_=-1;do{for(p=(g=-++_)+d;g<o;g++,p++)f[p]=P(g,f[p-1]+1,f[p+1]);for(p=(g=o+_)+d;g>o;g--,p--)f[p]=P(g,f[p-1]+1,f[p+1]);f[i]=P(o,f[i-1]+1,f[i+1])}while(f[i]!==s);if(t.distance=o+2*_,0!==e){for(_=3*J[i];_>=0;)v.push(_),_=3*u[_+2];3===e?sc(v,u,t,l,n,c):jc(v,u,t,l,n,c,1===e)}return t};const sc=(r,$,e,a,t,c)=>{const l=e.linear,n=e.const;let h,s,d,o,i=r.length,z=0,J=0;for(c?(h=e.dels,s=e.adds,d=-1,o=1):(h=e.adds,s=e.dels,d=1,o=-1);--i>=0;){const e=r[i],c=$[e],f=$[e+1],v=f-c;for(;z<c||J<f;){const r=J-z;v>r?(l.push(d,J,h[J]=t[J]),J++):v<r?(l.push(o,z,s[z]=a[z]),z++):(l.push(0,z,n[z]=a[z]),z++,J++)}}},jc=(r,$,e,a,t,c,l)=>{const n=e.linear,h=c?-1:1,s=c?1:-1;let d=r.length,o=0,i=0;for(;--d>=0;){const e=r[d],c=$[e],z=$[e+1],J=z-c;for(;o<c||i<z;){const r=i-o;J>r?(n.push(h,i,t[i]),i++):J<r?(n.push(s,o,a[o]),o++):(l&&n.push(0,o,a[o]),o++,i++)}}};const ic=(t,e,$=3,i=j)=>t===e?{distance:0}:0===$?fc(t,e,i):ec(t,e,i);const fc=(t,e,$)=>{t||(t={}),e||(e={});let i=0;for(let r in t){const f=e[r];(void 0===f||!$(t[r],f))&&i++}for(let r in e)!(r in t)&&i++;return{distance:i}},ec=(t,e,$)=>{t||(t={}),e||(e={});let i=0;const r=[],f=[],s=[];for(let n in t){const r=e[n];void 0===r?(f.push(n),i++):$(t[n],r)||(s.push(n,r),i++)}for(let n in e)n in t||(r.push(n),i++);return{distance:i,adds:r,dels:f,edits:s}};const x=Array.isArray,ac=Math.max,fa=Object.getPrototypeOf({}),ga=(()=>{const e=new Array(2048);for(let t=2,r=e.length;t<r;t++)e[t]=t-2;return e})(),_b=e=>{if(e<=ga.length)return ga.slice(0,e);const t=new Array(e);for(;--e>=2;)t[e]=e-2;return t},ka=(e,t,r,$,i,o=0)=>{const n=i[1];if(n.__skip)return;if(!1===n.__diff)return m($),void t.replaceChild(e,r,o,i);const f=$[1];if(f&&f.__skip)return void t.replaceChild(e,r,o,i,!1);let s=n.__impl;if(s&&s!==t)return s.diffTree(e,s,r,$,i,o);const a=uc($,i,1,k);if(0===a.distance)return;const h=a.linear,T=t.getChild(r,o);let l,p,v,K;if(0!==h[0]||$[1].key!==n.key)return m($),void t.replaceChild(e,r,o,i);if((K=$.__release)&&K!==i.__release&&m($),0!==h[3]&&(Nb(t,T,$[1],i[1]),2===a.distance))return;const Q=h.length,d=$.length-1,u=Jb(h),c=_b(d+1);for(l=2,p=6;p<Q;l++,p+=3)(v=h[p])&&(-1===v?$b(e,t,T,$,i,h,p,u,c,d):Xb(e,t,T,h,p,u,c,d));(K=i.__init)&&K!=$.__init&&K.apply(i,[T,...i.__args])};const $b=(e,t,r,$,i,o,n,f,s,a)=>{const h=o[n+2];if(x(h)){let T=h[1].key;if(void 0!==T&&void 0!==f[T][2]){const o=f[T];T=o[0],ka(e,t,r,$[T],i[o[2]],s[T])}else{const e=o[n+1];m(h),t.removeChild(r,s[e]),Rb(s,a,e)}}else"string"==typeof h&&t.setContent(r,"")},Xb=(e,t,r,$,i,o,n,f)=>{const s=$[i+2];if("string"==typeof s)t.setContent(r,s);else if(x(s)){const a=s[1].key;if(void 0===a||void 0===o[a][0]){const o=$[i+1];t.createTree(e,r,s,n[o]),Pb(n,f,o)}}},Rb=(e,t,r)=>{for(;t>r;t--)e[t]=ac(e[t]-1,0)},Pb=(e,t,r)=>{for(;t>=r;t--)e[t]++},Nb=(e,t,r,$)=>{const i=ic(r,$,3,j);e.removeAttribs(t,i.dels,r);let o,n,f,s=h;for(o=(f=i.edits).length;(o-=2)>=0;)0===(n=f[o]).indexOf("on")&&e.removeAttribs(t,[n],r),"value"!==n?e.setAttrib(t,n,f[o+1],$):s=f[o+1];for(o=(f=i.adds).length;--o>=0;)"value"!==(n=f[o])?e.setAttrib(t,n,$[n],$):s=$[n];s!==h&&e.setAttrib(t,"value",s,$)};const m=e=>{if(x(e)){let t;if((t=e[1])&&!1===t.__release)return;for(e.__release&&(e.__release.apply(e.__this,e.__args),delete e.__release),t=e.length;--t>=2;)m(e[t])}};const Jb=e=>{let t,r,$;const i={};for(let o=e.length;(o-=3)>=0;)r=e[o+2],x(r)&&void 0!==(t=r[1].key)&&(!($=i[t])&&(i[t]=$=[,,]),$[e[o]+1]=e[o+1]);return i},k=(e,t)=>{let r;return e===t||(null==e?e==t:"function"==typeof e.equiv?e.equiv(t):null==t?e==t:"function"==typeof t.equiv?t.equiv(e):"string"!=typeof e&&"string"!=typeof t&&(null!=(r=Object.getPrototypeOf(e))&&r!==fa||null!=(r=Object.getPrototypeOf(t))&&r!==fa?"function"!=typeof e&&void 0!==e.length&&"function"!=typeof t&&void 0!==t.length?Ca(e,t,k):e instanceof Set&&t instanceof Set?L(e,t,k):e instanceof Map&&t instanceof Map?O(e,t,k):e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():e instanceof RegExp&&t instanceof RegExp?e.toString()===t.toString():e!=e&&t!=t:!(!1===e.__diff||!1===t.__diff)&&U(e,t,k)))};const Ea=o=>"function"==typeof o;const p=(n,t)=>null!=n&&"function"==typeof n[t];const G=Array.isArray;const Hb=t=>null!=t&&"function"!=typeof t&&void 0!==t.length;const Gb=t=>"string"==typeof t;const Db=e=>null!=e&&"function"==typeof e[Symbol.iterator];const Ab=$=>$ instanceof Map;const Q=t=>null!=t&&"string"!=typeof t&&"function"==typeof t[Symbol.iterator];const R=Object.getPrototypeOf,wb=$=>{let r;return null!=$&&"object"==typeof $&&(null===(r=R($))||null===R(r))};const vb=t=>t instanceof Set;const ub="http://www.w3.org/2000/svg";const sb={"&":"&amp;","<":"&lt;",">":"&gt;","\"":"&quot;","'":"&apos;"};const rb=/^([^\s\.#]+)(?:#([^\s\.#]+))?(?:\.([^\s#]+))?$/;const Jc=new RegExp(`[${Object.keys(sb).join("")}]`,"g");const mb={button:1,option:1,text:1,textarea:1};const Z=e=>e.split(" ").reduce((e,t)=>(e[t]=!0,e),{}),lb=Z("animate animateColor animateMotion animateTransform circle clipPath color-profile defs desc discard ellipse feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feDropShadow feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence filter font foreignObject g image line linearGradient marker mask metadata mpath path pattern polygon polyline radialGradient rect set stop style svg switch symbol text textPath title tref tspan use view");const Kc=Z("area base br circle col command ellipse embed hr img input keygen line link meta param path polygon polyline rect source stop track use wbr ?xml");const jb=t=>{let $,r="";for(let e in t)$=t[e],Ea($)&&($=$(t)),null!=$&&(r+=`${e}:${$};`);return r};const ib=(e,t)=>{if(null==e||!t||!t.length)return e;const r=Object.assign({},e);for(let n of t){const e=r[n];p(e,"deref")&&(r[n]=e.deref())}return r};const ca=(r,o=r=>void 0!==r?": "+r:"")=>class extends Error{constructor(s){super(r(s)+o(s))}};const fb=ca(()=>"illegal argument(s)");const eb=r=>{throw new fb(r)};const cb=ca(()=>"illegal arity");const D=r=>{throw new cb(r)};const w=G,ia=Q,ja=(e,t)=>t.__init&&t.__init.apply(t.__this,[e,...t.__args]),v=(e,t,r,s,$,n=!0)=>{if(w(s)){const o=s[0];if("function"==typeof o)return v(e,t,r,o.apply(null,[e.ctx,...s.slice(1)]),$);const a=s[1];if(a.__impl)return a.__impl.createTree(e,r,s,$,n);const i=t.createElement(r,o,a,$);if(s.length>2){const r=s.length;for(let $=2;$<r;$++)v(e,t,i,s[$],void 0,n)}return n&&ja(i,s),i}if(ia(s)){const o=[];for(let a of s)o.push(v(e,t,r,a,$,n));return o}return null==s?r:t.createTextElement(r,s)};const u=(e,t,r,s,$=0)=>{if(w(s)){const n=t.getChild(r,$);"function"==typeof s[0]&&u(e,t,r,s[0].apply(null,[e.ctx,...s.slice(1)]),$);const o=s[1];if(o.__impl)return o.__impl.hydrateTree(e,r,s,$);ja(n,s);for(let e in o)0===e.indexOf("on")&&t.setAttrib(n,e,o[e]);for(let r=s.length,$=2;$<r;$++)u(e,t,n,s[$],$-2)}else if(ia(s))for(let n of s)u(e,t,r,n,$),$++};const bb=(e,t,r,s)=>{const $=lb[t]?document.createElementNS(ub,t):document.createElement(t);return r&&Va($,r),oa(e,$,s)};const _a=(e,t,r)=>oa(e,document.createTextNode(t),r);const oa=(e,t,r)=>e?void 0===r?e.appendChild(t):e.insertBefore(t,e.children[r]):t;const Za=(e,t)=>e.children[t];const Xa=(e,t,r,s,$,n=!0)=>(t.removeChild(r,s),t.createTree(e,r,$,s,n));const Wa=(e,t)=>e.textContent=t;const Va=(e,t)=>{for(let r in t)ta(e,r,t[r],t);return e};const ta=(e,t,r,s)=>{if(t.startsWith("__"))return;const $=0===t.indexOf("on");if($||"function"!=typeof r||(r=r(s)),void 0!==r&&!1!==r)switch(t){case"style":Oa(e,r);break;case"value":Ua(e,r);break;case"accesskey":e.accessKey=r;break;case"contenteditable":e.contentEditable=r;break;case"tabindex":e.tabIndex=r;break;case"align":case"autocapitalize":case"checked":case"dir":case"draggable":case"hidden":case"id":case"lang":case"namespaceURI":case"scrollTop":case"scrollLeft":case"title":e[t]=r;break;default:$?Na(e,t.substr(2),r):e.setAttribute(t,!0===r?"":r);}else null!=e[t]?e[t]=null:e.removeAttribute(t);return e};const Ua=(e,t)=>{let r;switch(e.type){case"text":case"textarea":case"password":case"search":case"number":case"email":case"url":case"tel":case"date":case"datetime-local":case"time":case"week":case"month":if(void 0!==(r=e.value)&&"string"==typeof t){const s=t.length-(r.length-(e.selectionStart||0));e.value=t,e.selectionStart=e.selectionEnd=s;break}default:e.value=t;}};const Qa=(e,t,r)=>{for(let s=t.length;--s>=0;){const $=t[s];0===$.indexOf("on")?Ma(e,$.substr(2),r[$]):e.hasAttribute($)?e.removeAttribute($):e[$]=null}};const Oa=(e,t)=>(e.setAttribute("style",jb(t)),e);const Na=(e,t,r)=>w(r)?e.addEventListener(t,...r):e.addEventListener(t,r);const Ma=(e,t,r)=>w(r)?e.removeEventListener(t,...r):e.removeEventListener(t,r);const La=(e,t)=>{const r=e.children[t];void 0!==r&&e.removeChild(r)};const q=G,Ka=Q,Ja=wb,Ib=(e,r)=>{let $,i,t,n,a,o=e[0],l=Ja(e[1]);return"string"==typeof o&&($=rb.exec(o))||eb(`${o} is not a valid tag name`),o!==(i=$[1])||!l||r&&!e[1].key?(a=l?Object.assign({},e[1]):{},t=$[2],n=$[3],t&&(a.id=t),n&&(n=n.replace(/\./g," "),a.class?a.class+=" "+n:a.class=n),a.__skip&&e.length<3?[i,a]:[i,a,...e.slice(l?2:1)]):e};const Fa=(e,r)=>d(r,e,e.ctx,[0],!1!==e.keys,!1!==e.span);const d=(e,r,$,i,t,n)=>{if(null!=e){if(q(e)){if(0===e.length)return;let a,o,l=e[1];if(l&&(o=l.__impl)&&(o=o.normalizeTree))return o(r,e);const s=e[0];if("function"==typeof s)return d(s.apply(null,[$,...e.slice(1)]),r,$,i,t,n);if("function"==typeof s.render){const o=[$,...e.slice(1)];return a=d(s.render.apply(s,o),r,$,i,t,n),q(a)&&(a.__this=s,a.__init=s.init,a.__release=s.release,a.__args=o),a}if(!1===(l=(a=Ib(e,t))[1]).__normalize)return a;if(t&&void 0===l.key&&(l.key=i.join("-")),a.length>2){const e=a[0],o=[e,l];n=n&&!mb[e];for(let l=2,s=2,x=0,c=a.length;l<c;l++){let e=a[l];if(null!=e){const a=q(e);if(a&&q(e[0])||!a&&Ka(e))for(let l of e)void 0!==(l=d(l,r,$,i.concat(x),t,n))&&(o[s++]=l),x++;else void 0!==(e=d(e,r,$,i.concat(x),t,n))&&(o[s++]=e),x++}}return o}return a}return"function"==typeof e?d(e($),r,$,i,t,n):"function"==typeof e.toHiccup?d(e.toHiccup(r.ctx),r,$,i,t,n):"function"==typeof e.deref?d(e.deref(),r,$,i,t,n):n?["span",t?{key:i.join("-")}:{},e.toString()]:e.toString()}};const Ga={createTree(e,t,r,$,i){return v(e,this,t,r,$,i)},hydrateTree(e,t,r,$){return u(e,this,t,r,$)},diffTree(e,t,r,$,i){ka(e,this,t,r,$,i)},normalizeTree:Fa,getElementById:e=>document.getElementById(e),getChild:Za,createElement:bb,createTextElement:_a,replaceChild(e,t,r,$,i){Xa(e,this,t,r,$,i)},removeChild:La,setContent:Wa,removeAttribs:Qa,setAttrib:ta};const Ha=(e,o)=>Gb(e)?o.getElementById(e):e;const Ia=(e,r={},t=Ga)=>{const a=Object.assign({root:"app"},r);let $=[],n=!0;const o=Ha(a.root,t),i=()=>{if(n){a.ctx=ib(r.ctx,a.autoDerefKeys);const f=t.normalizeTree(a,e);null!=f&&(a.hydrate?(t.hydrateTree(a,o,f),a.hydrate=!1):t.diffTree(a,o,$,f),$=f),n&&requestAnimationFrame(i)}};return requestAnimationFrame(i),()=>n=!1};function*I($,r){const e=n($)([ua,ua,($,r)=>r])[2];for(let t of r){let $=e(h,t);if(f($))return void(($=xa($.deref()))!==h&&(yield $));$!==h&&(yield $)}}const n=r=>p(r,"xform")?r.xform():r;class za{constructor(e){this.value=e}deref(){return this.value}}const f=e=>e instanceof za;const xa=e=>e instanceof za?e.deref():e;function g($){return $?[...$]:Ta(()=>[],($,r)=>($.push(r),$))}const Pa=e=>2===e.length?[void 0,e[1]]:3===e.length?[e[1],e[2]]:D(e.length);function va(...e){const r=e[0],$=r[0],u=r[1],t=r[2],c=null==(e=Pa(e))[0]?$():e[0],o=e[1];return xa(u(p(o,"$reduce")?o.$reduce(t,c):Hb(o)?Ra(t,c,o):Sa(t,c,o)))}const Ra=(e,r,$)=>{for(let u=0,t=$.length;u<t;u++)if(r=e(r,$[u]),f(r)){r=r.deref();break}return r},Sa=(e,r,$)=>{for(let u of $)if(r=e(r,u),f(r)){r=r.deref();break}return r},Ta=(e,r)=>[e,e=>e,r];const ea=($,r,e=I)=>{const t=r.length-1;return Db(r[t])?r.length>1?e($.apply(null,r.slice(0,t)),r[t]):e($(),r[0]):void 0};function c(...e){let r,$;switch(e.length){case 4:$=e[3],r=e[2];break;case 3:$=e[2];break;case 2:return a(r=>c(e[0],e[1],r));default:D(e.length);}return va(n(e[0])(e[1]),r,$)}function a(t,r){return r?I(a(t),r):r=>{const $=r[2];return qa(r,(r,e)=>$(r,t(e)))}}const qa=($,o)=>[$[0],$[1],o];const Ya=e=>{const{1:r,2:$}=n(e)(g());let t=!1;return e=>{if(!t){let p=$([],e);return(t=f(p))&&(p=r(p.deref())),1===p.length?p[0]:p.length>0?p:void 0}}};function pa(...e){let[r,$,t,o,u,c,p,n,s,a]=e;switch(e.length){case 0:D(0);case 1:return r;case 2:return(...e)=>r($(...e));case 3:return(...e)=>r($(t(...e)));case 4:return(...e)=>r($(t(o(...e))));case 5:return(...e)=>r($(t(o(u(...e)))));case 6:return(...e)=>r($(t(o(u(c(...e))))));case 7:return(...e)=>r($(t(o(u(c(p(...e)))))));case 8:return(...e)=>r($(t(o(u(c(p(n(...e))))))));case 9:return(...e)=>r($(t(o(u(c(p(n(s(...e)))))))));case 10:default:const G=(...e)=>r($(t(o(u(c(p(n(s(a(...e))))))))));return 10===e.length?G:pa(G,...e.slice(10));}}function $a(...e){const[r,t,n,u,s,a,c,$]=e;switch(e.length){case 1:return e=>[r(e)];case 2:return e=>[r(e),t(e)];case 3:return e=>[r(e),t(e),n(e)];case 4:return e=>[r(e),t(e),n(e),u(e)];case 5:return e=>[r(e),t(e),n(e),u(e),s(e)];case 6:return e=>[r(e),t(e),n(e),u(e),s(e),a(e)];case 7:return e=>[r(e),t(e),n(e),u(e),s(e),a(e),c(e)];case 8:return e=>[r(e),t(e),n(e),u(e),s(e),a(e),c(e),$(e)];default:return r=>{let t=new Array(e.length);for(let n=e.length;--n>=0;)t[n]=e[n](r);return t};}}function na(e,t,r){return new ab(e,t,r)}class ab{constructor(e,t,r){void 0===e?(e=0,t=1/0):void 0===t&&(t=e,e=0),r=void 0===r?e<t?1:-1:r,this.from=e,this.to=t,this.step=r}*[Symbol.iterator](){const e=this.step,t=this.to;let r=this.from;if(e>0)for(;r<t;)yield r,r+=e;else if(e<0)for(;r>t;)yield r,r+=e}$reduce(e,t){const r=this.step;if(r>0)for(let o=this.from,$=this.to;o<$&&!f(t);o+=r)t=e(t,o);else for(let o=this.from,$=this.to;o>$&&!f(t);o+=r)t=e(t,o);return t}}function ma(r,$){return $?I(ma(r),$):$=>{const e=$[2];return qa($,($,t)=>r(t)?e($,t):$)}}function i(...e){return e=e.map(n),pa.apply(null,e)}function db(...$){return a($a.apply(null,$.map(Ya)))}function y(...$){const e=ea(y,$);if(e)return e;const[r,p]=$,t=Object.keys(r);return i(db.apply(null,t.map($=>r[$])),da(t,p))}function da(...r){const $=r.length>2&&ea(da,r);if($)return $;let e=r[0];if(G(e)&&(e=e.reduce((r,$,e)=>(r[$]=e,r),{})),r[1]){const $=Object.keys(e);return a(t=>c(i(a(r=>[r,t[e[r]]]),ma(r=>void 0!==r[1])),r[1],$))}return a(gb(e))}const gb=e=>{const r=Object.keys(e),[t,n,o]=r,[s,c,$]=r.map(r=>e[r]);switch(r.length){case 3:return e=>{const r={};let a;return void 0!==(a=e[$])&&(r[o]=a),void 0!==(a=e[c])&&(r[n]=a),void 0!==(a=e[s])&&(r[t]=a),r};case 2:return e=>{const r={};let o;return void 0!==(o=e[c])&&(r[n]=o),void 0!==(o=e[s])&&(r[t]=o),r};case 1:return e=>{const r={};let n=e[s];return void 0!==n&&(r[t]=n),r};default:return t=>{let n,o;const s={};for(let c=r.length-1;c>=0;c--)n=r[c],void 0!==(o=t[e[n]])&&(s[n]=o);return s};}};const hb=t=>{const e=Object.assign({element:"h1",attribs:{},subElement:"small",subAttribs:{}},t);return(t,s,r)=>[e.element,e.attribs,s,r?[e.subElement,e.subAttribs,r]:void 0]};function r($){return"object"==typeof $&&"string"==typeof $.name}function t($){return"object"==typeof $&&"number"==typeof $.step&&"number"==typeof $.alt}const aa=[0,2,4,-1,1,3,5],_=aa.map($=>Math.floor(7*$/12));function Y($){const{step:t,alt:e,oct:r,dir:o=1}=$,p=aa[t]+7*e;return void 0===r?[o*p]:[o*p,o*(r-_[t]-4*e)]}const nb=[3,0,4,1,5,2,6];function ob($){const[t,e,r]=$,o=nb[pb(t)],p=Math.floor((t+1)/7);return void 0===e?{step:o,alt:p,dir:r}:{step:o,alt:p,oct:e+4*p+_[o],dir:r}}function pb($){const t=($+1)%7;return t<0?7+t:t}const X={empty:!0,name:"",pc:"",acc:""},W={},V=($,t)=>Array(t+1).join($),tb=$=>"CDEFGAB".charAt($),J=$=>$<0?V("b",-$):V("#",$),T=$=>"b"===$[0]?-$.length:$.length;function b($){return"string"==typeof $?W[$]||(W[$]=Bb($)):t($)?b(Cb($)):r($)?b($.name):X}const xb=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function yb($){const t=xb.exec($);return[t[1].toUpperCase(),t[2].replace(/x/g,"##"),t[3],t[4]]}function zb($){return b(ob($))}const P=[0,2,4,5,7,9,11];function Bb($){const t=yb($);if(""===t[0]||""!==t[3])return X;const e=t[0],r=t[1],o=t[2],p=(e.charCodeAt(0)+3)%7,u=T(r),a=o.length?+o:void 0,n=Y({step:p,alt:u,oct:a}),c=e+r+o,z=e+r,V=(P[p]+u+120)%12,s=void 0===a?-100:a,i=P[p]+u+12*(s+1),l=i>=0&&i<=127?i:null;return{empty:!1,acc:r,alt:u,chroma:V,coord:n,freq:void 0===a?null:440*Math.pow(2,(i-69)/12),height:i,letter:e,midi:l,name:c,oct:a,pc:z,step:p}}function Cb($){const{step:t,alt:e,oct:r}=$,o=tb(t);if(!o)return"";const p=o+J(e);return r||0===r?p+r:p}const F={empty:!0,name:"",acc:""},Eb=new RegExp("^([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})|(AA|A|P|M|m|d|dd)([-+]?\\d+)$");function Fb($){const t=Eb.exec(`${$}`);return null===t?["",""]:t[1]?[t[1],t[2]]:[t[4],t[3]]}const N={};function s($){return"string"==typeof $?N[$]||(N[$]=Kb($)):t($)?s(Mb($)):r($)?s($.name):F}const Da=[0,2,4,5,7,9,11],Ba="PMMPPMM";function Kb($){const t=Fb($);if(""===t[0])return F;const e=+t[0],r=t[1],o=(Math.abs(e)-1)%7,p=Ba[o];if("M"===p&&"P"===r)return F;const u="M"===p?"majorable":"perfectable",a=""+e+r,n=e<0?-1:1,c=8===e||-8===e?e:n*(o+1),z=Lb(u,r),V=Math.floor((Math.abs(e)-1)/7);return{empty:!1,name:a,num:e,q:r,step:o,alt:z,dir:n,type:u,simple:c,semitones:n*(Da[o]+z+12*V),chroma:(n*(Da[o]+z)%12+12)%12,coord:Y({step:o,alt:z,oct:V,dir:n}),oct:V}}function Lb($,t){return"M"===t&&"majorable"===$||"P"===t&&"perfectable"===$?0:"m"===t&&"majorable"===$?-1:/^A+$/.test(t)?t.length:/^d+$/.test(t)?-1*("perfectable"===$?t.length:t.length+1):0}function Mb($){const{step:t,alt:e,oct:r=0,dir:o}=$;return o?(o<0?"-":"")+(t+1+7*r)+Ob("M"===Ba[t]?"majorable":"perfectable",e):""}const ya=($,t)=>Array(Math.abs(t)+1).join($);function Ob($,t){return 0===t?"majorable"===$?"M":"P":-1===t&&"majorable"===$?"m":t>0?ya("A",t):ya("d","perfectable"===$?t:t+1)}function wa($,t){const e=b($),r=s(t);if(e.empty||r.empty)return"";const o=e.coord,p=r.coord;return zb(1===o.length?[o[0]+p[0]]:[o[0]+p[0],o[1]+p[1]]).name}function Qb($){return+$>=0&&+$<=127}function sa($){if(Qb($))return+$;const o=b($);return o.empty?null:o.midi}const Ic=Math.log(2),Hc=Math.log(440);const Ub="C C# D D# E F F# G G# A A# B".split(" "),Vb="C Db D Eb E F Gb G Ab A Bb B".split(" ");function Wb($,o={}){$=Math.round($);const r=(!0===o.sharps?Ub:Vb)[$%12];return o.pitchClass?r:r+(Math.floor($/12)-1)}const ra=$=>o=>{const r=b(o);if(r.empty)return"";const t=$?r.alt>0:r.alt<0,v=null===r.midi;return Wb(r.midi||r.chroma,{sharps:t,pitchClass:v})},Bc=ra(!0),Fc=ra(!1);const la={empty:!0,name:"",chordType:""},ha={};function l($){return"string"==typeof $?ha[$]||(ha[$]=hc($)):"number"==typeof $?l(H[$]||""):t($)?bc($):r($)?l($.name):la}function bc($){return l(J($.alt)+H[$.step])}const cc=/^(#{1,}|b{1,}|x{1,}|)(IV|I{1,3}|VI{0,2}|iv|i{1,3}|vi{0,2})([^IViv]*)$/;function dc($){return cc.exec($)||["","","",""]}const $="I II III IV V VI VII",H=$.split(" "),Ec=$.toLowerCase().split(" ");function hc($){const[r,e,a,t]=dc($);if(!a)return la;const o=a.toUpperCase(),R=H.indexOf(o),n=T(e);return{empty:!1,name:r,roman:a,interval:s({step:R,alt:n,dir:1}).name,acc:e,chordType:t,alt:n,step:R,major:a===o,oct:0,dir:1}}const S=t=>(i,a="")=>i.map((i,r)=>"-"!==i?t[r]+a+i:"");function e(t,i,a,r){return o=>{const $=t.split(" "),e=$.map(t=>l(t).interval||""),n=e.map(t=>wa(o,t)),m=S(n);return{tonic:o,grades:$,intervals:e,scale:n,chords:m(i.split(" ")),chordsHarmonicFunction:a.split(" "),chordScales:m(r.split(",")," ")}}}const kc=(t,i)=>{const a=b(t),r=b(i);return a.empty||r.empty?0:r.coord[0]-a.coord[0]},lc=e("I II III IV V VI VII","maj7 m7 m7 maj7 7 m7 m7b5","T SD T SD D T D","major,dorian,phrygian,lydian,mixolydian,minor,locrian"),Dc=e("I II bIII IV V bVI bVII","m7 m7b5 maj7 m7 m7 maj7 7","T SD T SD D SD SD","minor,locrian,major,dorian,phrygian,lydian,mixolydian"),Gc=e("I II bIII IV V bVI VII","mmaj7 m7b5 +maj7 m7 7 maj7 mo7","T SD T SD D SD D","harmonic minor,locrian 6,major augmented,lydian diminished,phrygian dominant,lydian #9,ultralocrian"),Cc=e("I II bIII IV V VI VII","m6 m7 +maj7 7 7 m7b5 m7b5","T SD T SD D - -","melodic minor,dorian b2,lydian augmented,lydian dominant,mixolydian b6,locrian #2,altered");function pc(t){const i=lc(t),a=kc("C",t),r=S(i.scale);return{...i,type:"major",minorRelative:wa(t,"-3m"),alteration:a,keySignature:J(a),secondaryDominants:r("- VI7 VII7 I7 II7 III7 -".split(" ")),secondaryDominantsMinorRelative:r("- IIIm7b5 IV#m7 Vm7 VIm7 VIIm7b5 -".split(" ")),substituteDominants:r("- bIII7 IV7 bV7 bVI7 bVII7 -".split(" ")),substituteDominantsMinorRelative:r("- IIIm7 Im7 IIbm7 VIm7 IVm7 -".split(" "))}}function qc($,e){if(Ab($))for(let t of e)$.set(t[0],t[1]);else for(let t of e)$.add(t);return $}const rc=(e,$)=>p(e,"empty")?e.empty():new(e[Symbol.species]||$);const M=e=>vb(e)?e:new Set(e);const tc=(e,$,r)=>r?va(e(),r):[()=>null,e=>e||new Set,(e,r)=>e?$(e,M(r)):M(r)];const z=(e,t,r)=>{if(r=r||rc(e,Set),e===t)return qc(r,e);if(t.size<e.size)return z(t,e,r);for(let $ of t)e.has($)&&r.add($);return r};function vc(e){return tc(vc,z,e)}const wc={anim:100,pad:1,margin:0,bgOn:{fill:"#CCCCCC"},bgOff:{fill:"#CCCCCC"},fgOn:{fill:"#E83015"},fgOff:{fill:"#fff"},floor:1},E=(s={})=>{const t=Object.assign(Object.assign({r:5},wc),s),{r:e,pad:g,margin:i,glyph:n,floor:a}=t,c=e*Math.pow(.5,2),O=e+g,l=O+i,f=2*O+2*i,b={width:f,height:f*a},o={transition:`all ${t.anim}ms ease-out`},r={cx:l,cy:l},j=Object.assign(Object.assign(Object.assign({},t.bgOn),r),{style:o,r:e}),$=Object.assign(Object.assign({},j),t.bgOff),T=Object.assign(Object.assign(Object.assign({},t.fgOn),r),{style:o,r:c}),C=Object.assign(Object.assign({},T),t.fgOff),p=Object.assign(Object.assign({},t.fgOn),{x:"50%",y:"50%","text-anchor":"middle","alignment-baseline":"central",font:"bold sans-serif","font-size":.5*f,style:o}),x=Object.assign(Object.assign({},p),t.fgOff);return(s,t,e)=>["svg",Object.assign(Object.assign({},b),t),["g",["circle",e?j:$],n?["text",e?p:x,n]:["circle",e?T:C]]]};const yc=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];let Aa=c(i(a($=>pc($)),y({raw:a($=>$),tonic_midi:a($=>sa($.tonic+"2")%12),music_key:a($=>`${$.tonic} ${$.type.slice(0,3)}`),normalized_midi:i(a($=>$.scale),a($=>c(a($=>sa($+"2")%12),g(),$)))})),g(),yc);console.log(Aa);const Ac=hb({element:"h2",attribs:{class:"blue"}}),o=c(a($=>Math.random()>.5),g(),na(12)),nc=$=>o[$]=!o[$],A={r:16},gc=Object.assign(Object.assign({},A),{glyph:"C"}),Zb=Object.assign(Object.assign({},A),{bgOn:{fill:"#000"},bgOff:{fill:"#000"},floor:2}),Yb=E(Object.assign({},A)),Tb=E(Object.assign({},gc)),Sb=E(Object.assign({},Zb)),qb=()=>["div.mb5",...o.map(($,B)=>[4===B?"div.dib.mr4":"div.dib",[0===B?Tb:new Set([2,4,5,7,9,11]).has(B)?Yb:Sb,{class:"pointer mr0",onclick:()=>nc(B)},$]])],kb=$=>()=>["div",...$.map(($,B)=>["div.mv2.mr2",["div.dib",["svg",{width:110,height:10},$.common_midis_size?["rect",{width:100*$.similarity,height:10,rx:5,fill:"grey"}]:[]]],$.music_key])],Lc=Ia(()=>{let $=c(a($=>o[$]?$:null),g(),na(12));$=new Set($);let B=c(i(y({music_key:a($=>$.music_key),tonic_midi:a($=>$.tonic_midi),common_midis:a(B=>z(new Set(B.normalized_midi),$))}),y({music_key:a($=>$.music_key),common_midis:a($=>$.common_midis),common_midis_size:a($=>$.common_midis.size),similarity:a(B=>$.has(B.tonic_midi)?B.common_midis.size/$.size+.1:B.common_midis.size/$.size)})),g(),Aa);return B=B.sort(($,B)=>B.similarity-$.similarity),["div",[Ac,"KEY FINDER"],["div",qb,kb(B)]]});return{"B6dB":{}};});